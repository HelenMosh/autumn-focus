:root{

/* TABLE pixel-art base */
.pumpkin{ border-collapse:separate; border-spacing:0; background:transparent; margin:0 auto; }
.pumpkin td{ width:14px; height:14px; image-rendering:pixelated; padding:0; }

/* palette cells */
.pumpkin .bg{ background:transparent; }
.pumpkin .g{ background:var(--stem); }
.pumpkin .o{ background:var(--accent); }
.pumpkin .d{ background:var(--accent-dark); }

/* cute drop shadow */
.pumpkin{ filter: drop-shadow(0 6px 0 rgba(0,0,0,.25)) drop-shadow(0 14px 18px rgba(0,0,0,.35)); }

.actions{ display:flex; gap:12px; justify-content:center }
.btn{
font:inherit; font-weight:700; letter-spacing:.3px; color:#1b1307; background:linear-gradient(180deg, #ffca64, #f6a739);
border:2px solid #3b2a11; padding:10px 16px; border-radius:12px; cursor:pointer; box-shadow:0 6px 0 #3b2a11, 0 10px 26px rgba(0,0,0,.35);
transform:translateY(0); transition:transform .05s ease, box-shadow .1s ease, filter .2s;
}
.btn:hover{ filter:brightness(1.05); }
.btn:active{ transform:translateY(3px); box-shadow:0 3px 0 #3b2a11, 0 8px 18px rgba(0,0,0,.45); }

/* Watering can animation (CSS only, pops in from top-left) */
.watering-can{
position:absolute; width:18px; height:18px; left:-18px; top:-18px;
background:conic-gradient(from 0deg at 50% 50%, #c9d1d9, #8b949e 60%, #c9d1d9);
border:2px solid #2f363d; border-radius:4px; transform:rotate(-30deg) scale(0);
opacity:0; pointer-events:none;
}
.watering-can::after{
content:""; position:absolute; width:22px; height:6px; right:-18px; top:-2px; background:#8b949e; border:2px solid #2f363d; border-radius:3px; transform:rotate(12deg);
}
.watering-can::before{ /* water */
content:""; position:absolute; width:3px; height:3px; left:20px; top:22px; border-radius:50%; background:#9bd2ff; box-shadow:
0 4px 0 0 #9bd2ff,
2px 7px 0 0 #9bd2ff,
4px 10px 0 0 #9bd2ff,
6px 13px 0 0 #9bd2ff;
opacity:0;
}
.watering{ /* toggled by JS for 1200ms */
animation: canIn .2s ease-out forwards, canOut .35s ease-in forwards 0.85s;
}
.watering .watering-can{ animation: tilt .85s ease-in-out forwards; opacity:1; transform:rotate(-30deg) scale(1); }
.watering .watering-can::before{ animation: drops .6s ease-in-out .2s forwards; }

@keyframes tilt{ 0%{transform:translate(0,0) rotate(-30deg) scale(0)} 20%{transform:translate(0,0) rotate(-30deg) scale(1)} 40%{transform:translate(6px,10px) rotate(-55deg)} 70%{transform:translate(8px,12px) rotate(-60deg)} 100%{transform:translate(0,0) rotate(-30deg) scale(1)} }
@keyframes drops{ 0%{opacity:0} 10%{opacity:1} 100%{opacity:0; transform:translateY(10px)} }
@keyframes canIn{ from{box-shadow:0 12px 40px rgba(0,0,0,.35)} to{box-shadow:0 16px 44px rgba(0,0,0,.45)} }
@keyframes canOut{ from{box-shadow:0 16px 44px rgba(0,0,0,.45)} to{box-shadow:0 12px 40px rgba(0,0,0,.35)} }

/* Modal book */
.modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.5); opacity:0; pointer-events:none; transition:opacity .2s; }
.modal.open{ opacity:1; pointer-events:auto; }
.book{ position:relative; width:min(560px, 92vw); background:linear-gradient(90deg, #3b2f25 0 16px, #f6eddc 16px calc(100% - 16px), #3b2f25 calc(100% - 16px) 100%); border:3px solid #2b211a; border-radius:14px; box-shadow:0 30px 60px rgba(0,0,0,.5);
padding:24px 32px; color:#2b211a; }
.book h2{ margin-top:0; font-size:1.3rem }
.book p{ line-height:1.6 }
.close{ position:absolute; top:6px; right:10px; width:32px; height:32px; border-radius:8px; border:2px solid #2b211a; background:#f0d9b5; cursor:pointer; font-weight:700 }
.close:hover{ filter:brightness(1.03) }
